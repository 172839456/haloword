<meta charset="UTF-8">
<script src="include/jquery.min.js"></script>
<script src="include/context_menu.js"></script>
<script src="include/omnibox.js"></script>
<script src="include/pron.js"></script>

<script>
function onRequest(request, sender, callback) {
	if (request.action == "getPron") {
		pron_callback = callback;
		pronounce_exist(request.word);
	}
	if (request.action == 'getJSON') {
		$.getJSON(request.url, request.args, callback);
	}
};

function exist_action() {
	pron_url = pron_url + " "; // HACK: fix unexpected cut on pron_url
	pron_callback(pron_url); 
}

chrome.extension.onRequest.addListener(onRequest);
</script>
