<p class="hidden" id="builtin-title">halo:io</p>

<style>
#io-content p {
    padding: 0;
    margin: 0;
    line-height: 26px;
}
#io-content textarea {
    width: 220px;
    height: 340px;
    border: 1px solid #aaa;
    padding: 10px;
    font: 16px/24px PTSerif;
}
#io-content h2 {
    font: 18px/22px PTSerif;
    margin: 10px 0 10px 0;
}
#io-content #import {
    float: left;
    padding: 0 30px;
    border-right: 1px dashed #eee;
}
#io-content #export {
    float: left;
    padding: 0 30px;
}
#io-content button {
    margin: 0 0 30px 0;
}
</style>
<script>
$(document).ready(function() {
    get_wordlist(export_wordlist);
    $("#export .separate-method").change(function() {
        get_wordlist(export_wordlist);
    });
});

function export_wordlist(result) {
    var list = "";

    var separator = $("#export .separate-method").val();
    if (separator == "line") {
        separator = "\n";
    }
    else if (separator == "comma") {
        separator = ", ";
    }
    else if (separator == "space") {
        separator = " ";
    }

    for (var i = result.rows.length - 1; i >= 0; i--) {
        list += result.rows.item(i)['word'];
        if (i > 0) {
            list += separator;
        }
    }
    $("#export textarea").val(list);
}
</script>
<div id="io-content">

    <div id="import">
        <h2>Import Word List</h2>
        <p><textarea></textarea></p>
        <p>
            <select class="separate-method">
                <option value="line">每单词一行</option>
                <option value="comma">逗号分隔</option>
                <option value="space">空格分隔</option>
            </select>
            <button>导入</button>
        </p>
    </div>

    <div id="export">
        <h2>Export Word List</h2>
        <p><textarea readonly></textarea></p>
        <p>
            <select class="separate-method">
                <option value="line">每单词一行</option>
                <option value="comma">逗号分隔</option>
                <option value="space">空格分隔</option>
            </select>
        </p>
    </div>

</div>